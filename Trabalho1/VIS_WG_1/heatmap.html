<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Heatmap ¬∑ Habita√ß√µes por Distrito (1940‚Äì2021)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Carregar modo escuro IMEDIATAMENTE -->
  <script>
    if (localStorage.getItem('darkMode') === 'true') {
      document.write('<style>body{background:#1a1a1a!important;color:#e0e0e0!important;}</style>');
    }
  </script>

  <style>
    :root {
      --bg: #f5f7fa;
      --card-bg: white;
      --text: #2c3e50;
      --border: #e1e8ed;
      --primary: #005b96;
      --header-bg: linear-gradient(135deg, #005b96, #5a2a82);
      --muted: #6c757d;
    }

    body.dark {
      --bg: #1a1a1a;
      --card-bg: #2d2d2d;
      --text: #e0e0e0;
      --border: #444;
      --primary: #64b5f6;
      --header-bg: linear-gradient(135deg, #000000, #3a1757);
      --muted: #aaa;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: all 0.3s ease;
      line-height: 1.6;
    }

    header {
      background: var(--header-bg);
      color: white;
      padding: 20px;
      text-align: center;
      position: relative;
    }

    header h1 {
      margin: 0;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    header p {
      margin: 5px 0 0;
      font-size: 14px;
      opacity: 0.9;
    }

    .back-btn {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      color: white;
      text-decoration: none;
      padding: 8px 15px;
      border-radius: 5px;
      font-size: 14px;
      transition: all 0.3s;
    }

    .back-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .dark-toggle {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255,255,255,0.2);
      border: 2px solid white;
      color: white;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 18px;
      transition: all 0.3s;
    }

    .dark-toggle:hover {
      background: rgba(255,255,255,0.3);
    }

    main {
      max-width: 960px;
      margin: 30px auto;
      padding: 0 20px;
    }

    .card {
      background: var(--card-bg);
      border-radius: 8px;
      padding: 25px;
      margin-bottom: 25px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    h2 {
      font-size: 22px;
      margin-bottom: 15px;
      color: var(--primary);
    }

    h3 {
      font-size: 18px;
      margin-top: 20px;
      margin-bottom: 10px;
      color: var(--primary);
    }

    p {
      margin-bottom: 12px;
      font-size: 15px;
    }

    .lead {
      font-size: 16px;
      color: var(--muted);
      margin-bottom: 20px;
    }

    ul {
      padding-left: 25px;
      margin: 10px 0;
    }

    li {
      margin-bottom: 8px;
    }

    figure {
      margin: 20px 0;
    }

    figure img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      border: 1px solid var(--border);
    }

    figcaption {
      font-size: 13px;
      color: var(--muted);
      margin-top: 8px;
      font-style: italic;
    }

    footer {
      text-align: center;
      padding: 20px;
      font-size: 12px;
      color: var(--muted);
    }
  </style>
</head>
<body>

<header>
  <a href="index.html" class="back-btn">‚Üê Voltar ao in√≠cio</a>
  
  <h1>üî• Heatmap</h1>
  <p>Habita√ß√µes por Distrito ‚Äî Portugal (1940‚Äì2021)</p>
  
  <button class="dark-toggle" onclick="toggleDark()" id="darkModeBtn" title="Alternar modo">
    <span id="darkModeIcon">üåô</span>
  </button>
</header>

<main>
  <p class="lead">
    Evolu√ß√£o do n√∫mero de alojamentos familiares cl√°ssicos por distrito entre
    1940 e 2021, evidenciando padr√µes de crescimento, quebras e estabiliza√ß√£o
    ao longo das diferentes d√©cadas.
  </p>

  <section class="card">
    <figure>
      <img
        src="imagens/heatmap_distrito_x_ano.svg"
        alt="Heatmap com distritos no eixo vertical e anos de censo no eixo horizontal, mostrando a intensidade do n√∫mero de habita√ß√µes por cor."
      />
      <figcaption>
        Figura ‚Äî Heatmap de alojamentos familiares cl√°ssicos por distrito e ano de censo (1940‚Äì2021). Fonte: INE ‚Äî Censos 1940‚Äì2021.
      </figcaption>
    </figure>
    <p>
      Neste heatmap, cada c√©lula representa o n√∫mero de alojamentos familiares cl√°ssicos
      num distrito espec√≠fico para um ano de recenseamento. As tonalidades mais escuras
      correspondem a maior n√∫mero de habita√ß√µes, enquanto as cores mais claras indicam
      valores relativamente mais baixos. Esta vista permite identificar rapidamente
      tend√™ncias temporais e contrastes espaciais entre distritos.
    </p>
  </section>

  <section class="card">
    <h2>Padr√µes temporais identificados no heatmap</h2>

    <h3>1. Crescimento sustentado de longo prazo</h3>
    <p>
      O padr√£o mais abrangente √© um crescimento robusto e praticamente cont√≠nuo
      no n√∫mero de habita√ß√µes ao longo de oito d√©cadas (1940‚Äì2021) na maioria dos
      distritos. A "mancha" global do heatmap torna-se progressivamente mais escura
      √† medida que avan√ßamos no eixo temporal.
    </p>
    <ul>
      <li>
        <strong>Aveiro</strong> praticamente duplica o n√∫mero de habita√ß√µes, passando
        de <strong>124 954</strong> em 1940 para <strong>257 230</strong> em 2021.
      </li>
      <li>
        <strong>Braga</strong> evidencia um crescimento muito expressivo, de
        <strong>113 354</strong> em 1940 para <strong>278 807</strong> em 2021.
      </li>
      <li>
        <strong>Porto</strong> mant√©m-se como um dos distritos com maior concentra√ß√£o
        habitacional, evoluindo de <strong>200 743</strong> em 1940 para
        <strong>443 980</strong> em 2021.
      </li>
    </ul>
    <p>
      Este padr√£o de "aquecimento" gradual da matriz sugere um aumento continuado
      da capacidade habitacional, associado √† urbaniza√ß√£o, crescimento demogr√°fico
      e expans√£o dos per√≠metros urbanos ao longo do s√©culo XX.
    </p>

    <h3>2. A redu√ß√£o generalizada em 1981 ‚Äî a "mancha fria"</h3>
    <p>
      O padr√£o temporal mais marcante √© a quebra no n√∫mero de habita√ß√µes observada
      na maioria dos distritos entre 1960 e 1981. No heatmap, a coluna de 1981
      surge, em muitos casos, com uma tonalidade mais clara em compara√ß√£o com 1960
      e com os censos posteriores, formando uma aut√™ntica "mancha fria".
    </p>
    <p>
      Este comportamento √© especialmente vis√≠vel nos distritos do interior:
    </p>
    <ul>
      <li>
        <strong>Castelo Branco</strong>: de <strong>173 163</strong> habita√ß√µes em
        1960 para <strong>97 932</strong> em 1981.
      </li>
      <li>
        <strong>Guarda</strong>: de <strong>167 975</strong> em 1960 para
        <strong>90 500</strong> em 1981.
      </li>
      <li>
        <strong>Viseu</strong>: de <strong>229 259</strong> em 1960 para
        <strong>145 853</strong> em 1981.
      </li>
      <li>
        <strong>Bragan√ßa</strong>: regista o valor mais baixo da s√©rie em 1981, com
        <strong>66 117</strong> habita√ß√µes.
      </li>
    </ul>
    <p>
      Este padr√£o n√£o √©, contudo, universal. Alguns distritos mant√™m a traject√≥ria
      de crescimento, mesmo neste per√≠odo:
    </p>
    <ul>
      <li>
        <strong>Lisboa</strong>: de <strong>238 876</strong> em 1960 para
        <strong>266 133</strong> em 1981.
      </li>
      <li>
        <strong>Set√∫bal</strong>: de <strong>97 402</strong> em 1960 para
        <strong>130 127</strong> em 1981.
      </li>
    </ul>
    <p>
      A coexist√™ncia de uma "mancha fria" no interior com a manuten√ß√£o de valores
      elevados e em crescimento em √°reas metropolitanas sugere processos assim√©tricos
      de despovoamento e reconfigura√ß√£o territorial, que o heatmap torna visualmente
      evidentes.
    </p>

    <h3>3. Recupera√ß√£o e acelera√ß√£o ap√≥s 1981</h3>
    <p>
      Depois do m√≠nimo relativo que, em muitos distritos, ocorre em 1981, observa-se
      um per√≠odo prolongado de recupera√ß√£o e expans√£o entre 1991 e 2011. As colunas
      correspondentes a estes anos mostram um "re-aquecimento" da matriz, com
      intensifica√ß√£o da cor em grande parte dos distritos.
    </p>
    <p>
      Os distritos costeiros e com forte press√£o urbana destacam-se particularmente:
      <strong>Faro</strong>, por exemplo, aumenta de <strong>114 752</strong>
      habita√ß√µes em 1981 para <strong>201 078</strong> em 2021, mantendo uma
      tonalidade consistentemente escura ao longo das √∫ltimas d√©cadas.
    </p>

    <h3>4. Estagna√ß√£o e quebras recentes (2011‚Äì2021)</h3>
    <p>
      O per√≠odo mais recente revela um padr√£o mais heterog√©neo. Em v√°rios distritos,
      a evolu√ß√£o entre 2011 e 2021 √© de estabiliza√ß√£o ou ligeira diminui√ß√£o do
      n√∫mero de habita√ß√µes, o que se traduz em pequenas redu√ß√µes de intensidade
      na coluna de 2021.
    </p>
    <ul>
      <li>
        <strong>Coimbra</strong>: ligeira redu√ß√£o de
        <strong>190 131</strong> (2011) para <strong>188 245</strong> (2021).
      </li>
      <li>
        <strong>Lisboa</strong>: quebra residual de <strong>366 073</strong> (2011)
        para <strong>365 844</strong> (2021).
      </li>
      <li>
        <strong>Santar√©m</strong>: de <strong>211 558</strong> (2011) para
        <strong>209 481</strong> (2021).
      </li>
      <li>
        <strong>Madeira</strong>: de <strong>91 961</strong> (2011) para
        <strong>90 970</strong> (2021).
      </li>
    </ul>
    <p>
      Em contraste, outros distritos mant√™m uma traject√≥ria de crescimento, com
      intensifica√ß√£o da cor em 2021:
    </p>
    <ul>
      <li>
        <strong>Braga</strong>: de <strong>268 462</strong> (2011) para
        <strong>278 807</strong> (2021).
      </li>
      <li>
        <strong>Porto</strong>: de <strong>443 042</strong> (2011) para
        <strong>443 980</strong> (2021).
      </li>
    </ul>
    <p>
      Esta combina√ß√£o de estabiliza√ß√£o em alguns territ√≥rios e crescimento noutros
      sugere uma fase recente de maior maturidade do parque habitacional, com
      din√¢micas regionais diferenciadas que o heatmap permite comparar de forma
      imediata.
    </p>
  </section>

  <section class="card">
    <h2>S√≠ntese visual</h2>
    <p>
      Em s√≠ntese, o heatmap deixa ver o tempo como uma sequ√™ncia de transi√ß√µes
      relativamente claras:
    </p>
    <ul>
      <li>
        um per√≠odo inicial de <strong>crescimento</strong> (1940‚Äì1960);
      </li>
      <li>
        uma fase de <strong>contra√ß√£o generalizada</strong> em muitos distritos (1960‚Äì1981), vis√≠vel na "mancha fria" de 1981;
      </li>
      <li>
        um longo per√≠odo de <strong>expans√£o</strong> e densifica√ß√£o do parque habitacional (1981‚Äì2011);
      </li>
      <li>
        uma fase recente de <strong>estabiliza√ß√£o ou ligeira regress√£o</strong> em alguns territ√≥rios (2011‚Äì2021).
      </li>
    </ul>
    <p>
      A leitura conjunta destas "manchas" de cor facilita a identifica√ß√£o de
      momentos de rutura e de continuidade, permitindo relacionar os padr√µes
      estat√≠sticos de habita√ß√£o com processos mais amplos de urbaniza√ß√£o,
      despovoamento do interior e reconfigura√ß√£o demogr√°fica do pa√≠s.
    </p>
  </section>
</main>

<footer>
  ¬© VIS ¬∑ Trabalho de Grupo ‚Äî 2025 ¬∑ Universidade Aberta & UTAD
</footer>

<script>
  // Aplicar modo escuro ao carregar
  const isDarkMode = localStorage.getItem('darkMode') === 'true';
  if (isDarkMode) {
    document.body.classList.add('dark');
  }

  // Atualizar √≠cone do bot√£o
  function updateDarkModeButton() {
    const icon = document.getElementById('darkModeIcon');
    const btn = document.getElementById('darkModeBtn');
    if (icon && btn) {
      if (isDarkMode) {
        icon.textContent = '‚òÄÔ∏è';
        btn.setAttribute('title', 'Mudar para modo claro');
      } else {
        icon.textContent = 'üåô';
        btn.setAttribute('title', 'Mudar para modo escuro');
      }
    }
  }
  updateDarkModeButton();

  function toggleDark() {
    document.body.classList.toggle('dark');
    const isDark = document.body.classList.contains('dark');
    localStorage.setItem('darkMode', isDark ? 'true' : 'false');
    window.location.reload();
  }
</script>

</body>
</html>
